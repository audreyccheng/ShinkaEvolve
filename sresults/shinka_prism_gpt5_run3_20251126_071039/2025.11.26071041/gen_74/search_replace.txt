<NAME>
allow_slo0_in_tpacker
</NAME>

<DESCRIPTION>
We enable the T-based slack-equalization packer to handle models with slo==0 by treating their demand ratio as zero instead of infinite. Previously, any slo==0 produced dR=inf, causing the T-based assigner to immediately return None and fall back to a greedy heuristic. This change allows memory-only models to participate in the balanced placement phase, improving max KVPR minimization globally. Specifically:
- In item extraction, set dR=0.0 when slo==0 and sum it normally.
- Remove the inf-demand early return from assign_balanced_slack.
This keeps the algorithm simple, avoids infeasible infinite values, and usually reduces the maximum KVPR by letting memory-only models be placed in a way that preserves KV slack for demand-bearing models.
</DESCRIPTION>

<DIFF>
<<<<<<< SEARCH
    # Extract per-model attributes once
    items = []
    total_R = 0.0
    total_size = 0.0
    for m in models:
        slo = float(m.slo)
        dR = float(m.req_rate) / slo if slo != 0 else float('inf')
        s = float(m.model_size)
        items.append({'obj': m, 'dR': dR, 'size': s})
        total_R += 0.0 if dR == float('inf') else dR
        total_size += s
=======
    # Extract per-model attributes once
    items = []
    total_R = 0.0
    total_size = 0.0
    for m in models:
        slo = float(m.slo)
        # Treat slo==0 as memory-only: no KVPR contribution but consumes memory
        dR = float(m.req_rate) / slo if slo != 0 else 0.0
        s = float(m.model_size)
        items.append({'obj': m, 'dR': dR, 'size': s})
        total_R += dR
        total_size += s
>>>>>>> REPLACE

</DIFF>
<DIFF>
<<<<<<< SEARCH
        for it in items:
            dR = it['dR']; sz = it['size']
            if dR == float('inf'):
                return None  # cannot handle infinite demand ratios under bounded T
            w = dR + T * sz
            if w < 0:
                w = 0.0
            enriched.append([w, dR, sz, it['obj']])
=======
        for it in items:
            dR = it['dR']; sz = it['size']
            w = dR + T * sz
            if w < 0:
                w = 0.0
            enriched.append([w, dR, sz, it['obj']])
>>>>>>> REPLACE

</DIFF>